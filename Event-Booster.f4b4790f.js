const e={posters:document.getElementById("posters"),pagination:document.getElementById("pagination"),searchInput:document.getElementById("search-input")},t=new class{constructor(){this._apiKey="RO7qWdCAE673OL1GG2So7c2DTSgA49pc",this._baseUrl="https://app.ticketmaster.com/discovery/v2/events.json",this._countryCode="",this._search="",this._size=20,this._page=1,this._totalPages=1}get apiKey(){return this._apiKey}get baseUrl(){return this._baseUrl}get countryCode(){return this._countryCode}get search(){return this._search}get size(){return this._size}get page(){return this._page}get totalPages(){return this._totalPages}set countryCode(e){this._countryCode=e}set search(e){this._search=e}set size(e){this._size=e}set page(e){this._page=e}async fetchEvent(t){try{let a=await fetch(t);if(!a.ok)throw Error(`HTTP error ${a.status}`);let s=await a.json();if(!s?._embedded){e.posters.innerHTML="<p class='text-center text-2xl mb-12'>Нема подій.</p>",r();return}return this._totalPages=s.page.totalPages||1,s}catch(e){console.error("fetchEvent error:",e)}}getData(){return this.fetchEvent(`${this._baseUrl}?size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByCountry(e){return this.fetchEvent(`${this._baseUrl}?countryCode=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByEventName(e){return this.fetchEvent(`${this._baseUrl}?keyword=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}getDataByAuthor(e){return this.fetchEvent(`${this._baseUrl}?attractionName=${e}&size=${this._size}&page=${this._page}&apikey=${this._apiKey}`)}renderData(t){if(!t)return;let a=t._embedded.events.map(e=>`
      <div class="relative h-auto w-full md:w-[196px] text-center justify-items-center cursor-pointer hover:scale-103 transition-transform duration-100 ease-in-out">
        <div class="relative inline-block">
          <img class="mt-[13px] mb-[5px] rounded-tl-[50px] rounded-br-[50px] object-cover md:h-[227px]" src="${e.images[5].url}" alt="">
          <div class="absolute z-10 border border-[#DC56C54D] w-[153px] h-[143px] rounded-tl-[50px] rounded-br-[50px] top-0 -right-[12px]"></div>
        </div>
        <h2 class="text-pink-500 font-bold text-[14px] md:text-base">${e.name}</h2>
        <p class="text-white font-normal text-[14px] md:text-base">${e.dates.start.localDate}</p>
        <div class="flex items-center gap-[3px]">
          <img class="w-[7px] h-[10px]" src="../public/icon-marker.svg" alt="">
          <p class="text-white font-semibold text-[12px] md:text-[14px]">${e._embedded.venues[0].name}</p>
        </div>
      </div>
    `).join("");e.posters.innerHTML=a}};function a(e,s=!1){let r=document.createElement("div");return r.className="px-3 py-1 cursor-pointer",s&&r.classList.add("active-page"),r.innerHTML=`<p class="text-[14px] font-normal">${e}</p>`,r.addEventListener("click",()=>{t.page!==e&&(t.page=e,i())}),r}function s(){let e=document.createElement("div");return e.className="px-3 py-1",e.innerHTML='<p class="text-[14px] font-normal">...</p>',e}function r(){let r=Math.max(1,t.totalPages),i=Math.min(Math.max(1,t.page),r),n=e.pagination;n.innerHTML="";let p=document.createDocumentFragment();if(r<=7){for(let e=1;e<=r;e++)p.appendChild(a(e,e===i));return n.appendChild(p)}let o=Math.max(2,i-Math.floor(2.5)),c=Math.min(r-1,o+5-1);c-o+1<5&&(o=Math.max(2,c-5+1)),p.appendChild(a(1,1===i)),o>2&&p.appendChild(s());for(let e=o;e<=c;e++)p.appendChild(a(e,e===i));c<r-1&&p.appendChild(s()),p.appendChild(a(r,i===r)),n.appendChild(p)}async function i(){let a=window.innerWidth;t.size=a>768&&a<1280?21:20;try{let a=e.searchInput.value.trim(),s=a?await t.getDataByEventName(a):await t.getData();t.renderData(s),r()}catch(e){console.error("loadData error:",e)}}i(),e.searchInput.addEventListener("input",function(e,t=200){let a;return(...s)=>{clearTimeout(a),a=setTimeout(()=>e.apply(this,s),t)}}(()=>{t.page=1,i()}),1e3);
//# sourceMappingURL=Event-Booster.f4b4790f.js.map
